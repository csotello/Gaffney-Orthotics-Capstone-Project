{"version":3,"sources":["components/ExportFile.js","components/ImportFile.js","components/ViewMenu.js","components/EditMenu.js","components/SelectMenu.js","components/Coords.js","button_icons/camera_icon.jpg","button_icons/center_icon.jpg","components/Camera.js","components/ToolGroup.js","components/Toolbar.js","components/NavBar.js","App.js","index.js"],"names":["Export","useState","format","setFormat","handleChange","e","target","value","className","id","htmlFor","style","display","onClick","window","Module","ready","then","api","addr","export_model","len","get_export_strlen","data","Uint8Array","HEAP8","subarray","_free","saveAs","Blob","catch","console","log","color","minWidth","paddingRight","type","onChange","checked","ExportFile","Import","fileReader","fileName","fileFormat","files","name","FileReader","test","alert","buffer","tag","start","slice","length","i","charCodeAt","isBinarySTL","onloadend","handleFileRead","readAsText","err","sendFile","filePath","import_file","uint8_view","result","str","utf8","charcode","push","ToUTF8Array","TextEncoder","NONSTANDARD_allowLegacyEncoding","encode","input_ptr","_malloc","BYTES_PER_ELEMENT","HEAPU8","set","import_model","a","setTimeout","FS","writeFile","readFile","getView","useEffect","addEventListener","removeEventListener","accept","data-testid","ImportFile","ViewMenu","props","setDisplay","loop","useRef","zoom","current","setInterval","stop","clearInterval","prev","padding","textAlign","paddingLeft","marginRight","onMouseDown","onMouseUp","document","getElementById","click","EditMenu","factor","setFactor","x","y","z","twist","setTwist","Twist","useCallback","twist_vertices","styles","float","maxWidth","placeholder","min","step","val","scale","Number","width","SelectMenu","canvas","clickPos","mouseDown","pageX","offsetLeft","pageY","offsetTop","mouseUp","x2","y2","x1","y1","on_mouse_up","selectArea","onclick","tool","onmousedown","onmouseup","setTool","Coords","Camera","cameraOrigin","yaw","pitch","roll","camera","setCamera","range","MAX_SAFE_INTEGER","canvasElement","clicked","setClicked","moveVals","canvasX","canvasY","trackMouse","curX","curY","innerHTML","updateCamera","get_camera","getValue","handleMove","ctrlKey","which","newPitch","Math","max","movementY","newYaw","movementX","newX","newY","set_camera","onmousemove","onwheel","preventDefault","deltaY","newCamera","minHeight","maxHeight","fontSize","top","position","src","center_icon","alt","cam_icon","handle","resize","overflow","maxLength","ToolGroup","Toolbar","setZoom","dev","setDev","devStuff","body","left","undo","redo","flip_axis","NavBar","href","App","onresize","w","clientWidth","h","clientHeight","height","set_size","ReactDOM","render","StrictMode","this"],"mappings":"iLAGMA,EAAS,WACX,MAA4BC,mBAAS,QAArC,mBAAOC,EAAP,KAAeC,EAAf,KAEMC,EAAe,SAACC,GAAOF,EAAUE,EAAEC,OAAOC,QAiBhD,OACI,sBAAKC,UAAU,WAAWC,GAAG,cAA7B,UACI,uBAAOC,QAAQ,SAASF,UAAU,OAAlC,yBACA,wBAAQC,GAAG,SAASE,MAAO,CAACC,QAAQ,QAASC,QAlBjC,WAChBC,OAAOC,OAAOC,MAAMC,MAAK,SAAAC,GAGrB,IAAIC,EAAOD,EAAIE,aAAalB,GACxBmB,EAAMH,EAAII,oBAGRC,EAAO,IAAIC,WAAWV,OAAOC,OAAOU,MAAMC,SAASP,EAAMA,EAAKE,IACpEP,OAAOC,OAAOY,MAAMR,GAEpBS,iBAAO,IAAIC,KAAK,CAACN,IAAO,OAAOrB,MAE9B4B,OAAM,SAAAzB,GAAC,OAAI0B,QAAQC,IAAI,gCAMxB,sBAAKxB,UAAU,aAAaG,MAAO,CAACsB,MAAM,QAASC,SAAS,GAAIC,aAAa,IAA7E,UACI,uBAAOC,KAAK,QACLC,SAAUjC,EACVG,MAAM,OACN+B,QAAoB,SAAXpC,IAJpB,OAKI,uBAAOkC,KAAK,QACLC,SAAUjC,EACVG,MAAM,OACN+B,QAAoB,SAAXpC,IARpB,cAcCqC,EAAa,WACtB,OACI,cAAC,EAAD,K,wBCKR,IAAMC,EAAS,WACX,IAAIC,EACAC,EAAW,GACXC,EAAa,GAMXvC,EAAe,SAAC,GAAuB,IAAbwC,EAAY,EAArBtC,OAASsC,MAC5B,IAGI,GAFAF,EAAWE,EAAM,GAAGC,KACpBJ,EAAa,IAAIK,WACb,2CAA2CC,KAAKL,GAChDC,EAAa,MACV,KAAI,2CAA2CI,KAAKL,GAQvD,OADAM,MAAM,qBACC,GAJHL,EA/BpB,SAAqBM,GAIjB,IAHA,IAAIC,EAAM,QACNC,EAAQ,IAAI3B,WAAWyB,EAAOG,MAAM,EAAGF,EAAIG,SAEtCC,EAAE,EAAGA,EAAEJ,EAAIG,OAAQC,IACxB,GAAIJ,EAAIK,WAAWD,KAAOH,EAAMG,GAC5B,OAAO,EAGf,OAAO,EAmBSE,CAAYZ,EAAM,IACL,EAEA,EAMrBH,EAAWgB,UAAYC,EACvBjB,EAAWkB,WAAWf,EAAM,GAAI,cAClC,MAAOgB,GACL7B,QAAQC,KAAI,SAAA4B,GAAG,OAAI7B,QAAQC,IAAI,wBAIjC6B,EAAW,SAACC,GACdhD,OAAOC,OAAOC,MAAMC,MAAK,SAAAC,GAAG,OAAIA,EAAI6C,YAAYD,EAAUnB,MACrDb,OAAM,SAAAzB,GAAC,OAAI0B,QAAQC,IAAI,wDAC5BD,QAAQC,IAAI,sCAEV0B,EAAiB,WACnB,GAAmB,IAAff,GAAmC,IAAfA,EAAiB,CAErC,IACIqB,EADEC,EAASxB,EAAWwB,OAQpB5C,GALF2C,EA1DL,iBAAiBjB,KAyDLkB,GACS,IAAIzC,WAxFhB,SAAC0C,GAEjB,IADA,IAAIC,EAAO,GACFb,EAAE,EAAGA,EAAIY,EAAIb,OAAQC,IAAK,CAC/B,IAAIc,EAAWF,EAAIX,WAAWD,GAC1Bc,EAAW,IAAMD,EAAKE,KAAKD,GACtBA,EAAW,KAChBD,EAAKE,KACD,IAAQD,GAAY,EACpB,IAAmB,GAAXA,GACLA,EAAW,OAAUA,GAAY,MACxCD,EAAKE,KACD,IAAQD,GAAY,GACpB,IAASA,GAAU,EAAK,GACxB,IAAmB,GAAXA,IAEZd,IACAc,EAAW,QAAwB,KAAXA,IAAmB,GAA2B,KAApBF,EAAIX,WAAWD,IACjEa,EAAKE,KACD,IAAQD,GAAW,GACnB,IAASA,GAAU,GAAM,GACzB,IAASA,GAAU,EAAK,GACxB,IAAmB,GAAXA,IAGpB,OAAOD,EAgEoCG,CAAYL,IAGvC,IAAIM,YAAY,aAAa,CAACC,iCAAiC,IAAOC,OAAOR,IAE9DZ,OAIjBqB,EAAY5D,OAAOC,OAAO4D,QAAQtD,EAAM2C,EAAWY,mBAGzD9D,OAAOC,OAAO8D,OAAOC,IAAId,EAAYU,GAErC5D,OAAOC,OAAOC,MAAMC,MAAK,SAAAC,GAAG,OAAIa,QAAQC,IAAId,EAAI6D,aAAaL,EAAW/B,OACnEb,OAAM,SAAA8B,GAAG,OAAI7B,QAAQC,IAAI,6DAC3B,GAAmB,IAAfW,EAAkB,EACZ,uCAAG,8BAAAqC,EAAA,sDACZ,IACUf,EAASxB,EAAWwB,QACtBD,EACA,IAAIO,YAAY,aAAc,CAACC,iCAAiC,IAAOC,OAAOR,KAI9EgB,WAAWnE,OAAOoE,GAAGC,UAAUzC,EAAUsB,GAAY,SAAAJ,GAC7CA,GACA7B,QAAQC,IAAI,kBAEhB,KACJiD,WAAWnE,OAAOoE,GAAGE,SAAS1C,GAAU,SAAAkB,GAChCA,GACA7B,QAAQC,IAAI,kBAEhB,KACJiD,WAAWpB,EAASnB,GAAW,MAZ/BX,QAAQC,KAAI,SAAA4B,GAAG,MAAI,0CAczB,MAAOA,GACL7B,QAAQC,KAAI,SAAA4B,GAAG,OAAI7B,QAAQC,IAAI,8CArBvB,2CAAH,qDAwBbqD,KAYR,OARAC,qBAAU,WAGN,OAFAxE,OAAOyE,iBAAiB,OAAQnF,GAEzB,WACHU,OAAO0E,oBAAoB,OAAQpF,OAKvC,gCACI,uBAAOM,QAAQ,cAAf,yBAEA,uBACID,GAAG,cACHoC,KAAK,cACLlC,MAAO,CAACC,QAAQ,QAChB6E,OAAO,aACPC,cAAY,cACZrD,SAAUjC,EACVgC,KAAK,aAMRuD,EAAa,WACtB,OACI,qBAAKnF,UAAU,OAAf,SACI,cAAC,EAAD,O,gBChKCoF,EAAW,SAACC,GACrB,MAA6B5F,mBAAS,QAAtC,mBAAOW,EAAP,KAAekF,EAAf,KACMC,EAAOC,iBAAO,GAEdC,EAAO,SAAC5F,GACV0F,EAAKG,QAAUC,aAAY,WACvBrF,OAAOC,OAAOC,MAAMC,MAAK,SAAAC,GAAG,OAAIA,EAAI+E,KAAK5F,EAAEC,OAAOC,YACpD,KAEA6F,EAAO,WACTC,cAAcN,EAAKG,UAGvB,OACI,sBAAK1F,UAAU,WAAf,UACI,wBAAQA,UAAU,OACVK,QAAS,SAACR,GAAD,OAAOyF,GAAW,SAAAQ,GAAI,MAAa,SAATA,EAAkB,QAAU,WADvE,kBAIA,cAAC,IAAD,UACI,sBAAK9F,UAAU,aAAaC,GAAG,YAAYE,MAAO,CAACC,QAAQA,GAA3D,UACI,qBAAKJ,UAAU,cAAcG,MAAO,CAAC4F,QAAQ,GAA7C,kBACA,sBAAK/F,UAAU,SAASG,MAAO,CAAC6F,UAAU,QAA1C,iBAEI,sBAAK7F,MAAO,CAACwB,aAAa,EAAGvB,QAAQ,SAAU6F,YAAY,GAA3D,UACI,wBAAQ9F,MAAO,CAAC+F,YAAY,IAAKnG,MAAO,EAAGoG,YAAaV,EAAMW,UAAWR,EAAzE,eACA,wBAAQ7F,OAAQ,EAAGoG,YAAaV,EAAMW,UAAWR,EAAjD,qBAIR,mBAAG5F,UAAU,SAASK,QAAS,kBAAMgG,SAASC,eAAe,cAAcC,SAA3E,iC,OC/BPC,EAAW,WACpB,MAA6B/G,mBAAS,QAAtC,mBAAOW,EAAP,KAAekF,EAAf,KACA,EAA4B7F,mBAAS,MAArC,mBAAOgH,EAAP,KAAeC,EAAf,KACA,EAA0BjH,mBAAS,CAC/BkH,EAAE,EACFC,EAAE,EACFC,EAAE,IAHN,mBAAOC,EAAP,KAAcC,EAAd,KAcMC,EAAQC,uBAAY,WACtB3G,OAAOC,OAAOC,MAAMC,MAAK,SAAAC,GACrBA,EAAIwG,eAAeJ,EAAMH,EAAG,KAC5BjG,EAAIwG,eAAeJ,EAAMF,EAAG,KAC5BlG,EAAIwG,eAAeJ,EAAMD,EAAG,UAElC,CAACC,IAEGK,EAAS,CACXC,MAAM,OACNC,SAAS,QAEb,OACI,sBAAKrH,UAAU,WAAf,UACI,wBAAQA,UAAU,OACVK,QAAS,SAACR,GAAD,OAAOyF,GAAW,SAAAQ,GAAI,MAAa,SAATA,EAAkB,QAAU,WADvE,kBAEA,cAAC,IAAD,UACI,sBAAK9F,UAAU,aAAaC,GAAG,YAAYE,MAAO,CAACC,QAAQA,GAA3D,UACI,qBAAKJ,UAAU,cAAcG,MAAO,CAAC4F,QAAQ,GAA7C,kBACA,sBAAK/F,UAAU,SAAf,wBAEI,uBAAOC,GAAG,YACHE,MAAOgH,EACPvF,KAAK,SACL0F,YAAY,MACZC,IAAI,IACJC,KAAK,MACZ,sBAAMrH,MAAK,2BAAMgH,GAAN,IAAclB,YAAY,IAArC,gBACA,wBAAQ5F,QApCd,WACV,IAAIoH,EAAMpB,SAASC,eAAe,aAAavG,MAC5C0H,EAAM,IACLnH,OAAOC,OAAOC,MAAMC,MAAK,SAAAC,GACrBA,EAAIgH,MAAMD,EAAM,SAgCR,sBAEJ,sBAAKzH,UAAU,SAAf,wBAEI,sBAAKA,UAAU,YAAf,UACI,uBAAOA,UAAU,WACVG,MAAOgH,EACPvF,KAAK,SACL0F,YAAY,IACZC,IAAI,IACJC,KAAK,MACZ,sBAAMrH,MAAK,2BAAMgH,GAAN,IAAclB,YAAY,IAArC,oBACA,uBAAOjG,UAAU,WACVG,MAAOgH,EACPvF,KAAK,SACL0F,YAAY,IACZC,IAAI,IACJC,KAAK,MACZ,sBAAMrH,MAAK,2BAAMgH,GAAN,IAAclB,YAAY,IAArC,oBACA,uBAAOjG,UAAU,WACVG,MAAOgH,EACPvF,KAAK,SACL0F,YAAY,IACZC,IAAI,IACJC,KAAK,MACZ,sBAAMrH,MAAK,2BAAMgH,GAAN,IAAclB,YAAY,IAArC,oBACA,iDAGR,sBAAKjG,UAAU,SAAf,yBAEI,sBAAKA,UAAU,YAAf,UACI,uBAAOA,UAAU,WACVG,MAAOgH,EACPvF,KAAK,SACL7B,MAAO+G,EAAMH,EACb9E,SAAU,SAAChC,GAAOkH,EAAS,2BAAID,GAAL,IAAWH,EAAEgB,OAAO9H,EAAEC,OAAOC,WACvDwH,IAAI,IACJC,KAAK,MACZ,sBAAMrH,MAAK,2BAAMgH,GAAN,IAAclB,YAAY,IAArC,gBACA,uBAAOjG,UAAU,WACVG,MAAOgH,EACPvF,KAAK,SACL7B,MAAO+G,EAAMF,EACb/E,SAAU,SAAChC,GAAOkH,EAAS,2BAAID,GAAL,IAAWF,EAAEe,OAAO9H,EAAEC,OAAOC,WACvDwH,IAAI,IACJC,KAAK,MACZ,sBAAMrH,MAAK,2BAAMgH,GAAN,IAAclB,YAAY,IAArC,gBACA,uBAAOjG,UAAU,WACVG,MAAOgH,EACPvF,KAAK,SACL7B,MAAO+G,EAAMD,EACbhF,SAAU,SAAChC,GAAOkH,EAAS,2BAAID,GAAL,IAAWD,EAAEc,OAAO9H,EAAEC,OAAOC,WACvDwH,IAAI,IACJC,KAAK,MACZ,sBAAMrH,MAAK,2BAAMgH,GAAN,IAAclB,YAAY,IAArC,gBACA,wBAAQ5F,QAAS2G,EAAjB,yBAGR,sBAAKhH,UAAU,SAAf,6BAEI,qBAAKA,UAAU,YAAf,SACI,uBAAO4B,KAAK,SAAS3B,GAAG,oBACjBsH,IAAI,QAAQC,KAAK,OACjBrH,MAAO,CAACyH,MAAM,IACd7H,MAAO0G,EACP5E,SAAU,SAAChC,GAAD,OAAO6G,EAAUiB,OAAO9H,EAAEC,OAAOC,yBChHjE8H,EAAa,SAACxC,GACvB,IAAIyC,EAASzB,SAASC,eAAe,UAC/ByB,EAAWvC,iBAAO,CAACmB,EAAE,EAAGC,EAAE,IAChC,EAA6BnH,mBAAS,QAAtC,mBAAOW,EAAP,KAAekF,EAAf,KAiBA,IAAM0C,EAAYf,uBAAY,SAACpH,GAC3BkI,EAASrC,QAAU,CAACiB,EAAG9G,EAAEoI,MAAQH,EAAOI,WAAYtB,EAAG/G,EAAEsI,MAAQL,EAAOM,aAC1E,CAACN,IAGGO,EAAUpB,uBAAY,SAACpH,GACzB,IAAIyI,EAAKzI,EAAEoI,MAAQH,EAAOI,WACtBK,EAAK1I,EAAEsI,MAAQL,EAAOM,WApB9B,SAAoBI,EAAIC,EAAIH,EAAIC,GAC5BjI,OAAOC,OAAOC,MAAMC,MAAK,SAAAC,GAClB8H,GAAMF,GAAMG,GAAMF,EACjB7H,EAAIgI,YAAYF,EAAIC,EAAIH,EAAIC,GACxBC,GAAMF,GAAMG,GAAMF,EACtB7H,EAAIgI,YAAYJ,EAAIG,EAAID,EAAID,GACxBC,GAAMF,GAAMG,GAAMF,EACtB7H,EAAIgI,YAAYF,EAAID,EAAID,EAAIG,GAE5B/H,EAAIgI,YAAYJ,EAAIC,EAAIC,EAAIC,MAYpCE,CAAWZ,EAASrC,QAAQiB,EAAGoB,EAASrC,QAAQkB,EAAG0B,EAAIC,KACzD,CAACT,IAGGzH,EAAU4G,uBAAY,SAACpH,GACzB,IAAI8G,EAAI9G,EAAEoI,MAAQH,EAAOI,WACrBtB,EAAI/G,EAAEsI,MAAQL,EAAOM,UACzB9H,OAAOC,OAAOC,MAAMC,MAAK,SAAAC,GAErBA,EAAIgI,YAAY/B,EAAE,EAAGC,EAAE,EAAGD,EAAE,EAAGC,EAAE,QAEvC,CAACkB,IAaH,OAZAhD,qBAAU,WAMN,OALAgD,EAAOc,QAAyB,WAAfvD,EAAMwD,KAAoBxI,EAAU,KACnC,WAAfgF,EAAMwD,OACLf,EAAOgB,YAAcd,EACrBF,EAAOiB,UAAYV,GAEhB,WACHP,EAAOc,QAAU,KACjBd,EAAOiB,UAAY,KACnBjB,EAAOgB,YAAc,QAE3B,CAACzD,EAAMwD,KAAKR,EAAQL,EAAUF,EAAQzH,IAEpC,sBAAKL,UAAU,WAAf,UACI,yBAAQA,UAAU,OACVK,QAAS,SAACR,GAAD,OAAOyF,GAAW,SAAAQ,GAAI,MAAa,SAATA,EAAkB,QAAU,WADvE,mBAGI,uBAAOlE,KAAK,WAAW3B,GAAG,eACnB6B,QAAwB,WAAfuD,EAAMwD,MAAoC,WAAfxD,EAAMwD,MAAoC,YAAfxD,EAAMwD,KACrEhH,SAAU,SAAAhC,GACNwF,EAAM2D,SAAQ,SAAAlD,GAAI,MAAa,WAATA,GAA8B,WAATA,EAAoB,UAAY,kBAG1F,cAAC,IAAD,UACI,sBAAK9F,UAAU,aAAaC,GAAG,cAAcE,MAAO,CAACC,QAAQA,GAA7D,UACI,qBAAKJ,UAAU,cAAcG,MAAO,CAAC4F,QAAQ,GAA7C,oBACA,sBAAK/F,UAAU,SAAf,mBAEI,uBAAO4B,KAAK,WAAWE,QAAwB,WAAfuD,EAAMwD,KAC/BhH,SAAU,SAAAhC,GAAC,OAAIwF,EAAM2D,QAAQnJ,EAAEC,OAAOC,QAAUsF,EAAMwD,KAAO,UAAYhJ,EAAEC,OAAOC,QAClFA,MAAM,SACNC,UAAU,cAGrB,sBAAKA,UAAU,SAAf,oBAEI,uBAAO4B,KAAK,WAAWE,QAAwB,WAAfuD,EAAMwD,KAC/BhH,SAAU,SAAAhC,GAAC,OAAIwF,EAAM2D,QAAQnJ,EAAEC,OAAOC,QAAUsF,EAAMwD,KAAO,UAAYhJ,EAAEC,OAAOC,QAClFA,MAAM,SACNE,GAAG,SAASD,UAAU,cAGjC,sBAAKA,UAAU,SAASC,GAAG,aAA3B,0BAEI,uBAAO2B,KAAK,WAAWE,QAAwB,YAAfuD,EAAMwD,KAC/BhH,SAAU,SAAAhC,GAAC,OAAIwF,EAAM2D,QAAQnJ,EAAEC,OAAOC,QAAUsF,EAAMwD,KAAO,UAAYhJ,EAAEC,OAAOC,QAClFA,MAAM,UACNE,GAAG,cAAcD,UAAU,cAEtC,qBAAKC,GAAG,aAAR,SACI,mBAAGA,GAAG,cAAN,6IC1FXgJ,EAAS,WAElB,OACI,mCACI,sBAAKjJ,UAAU,SAAf,UACI,uBAAOE,QAAQ,SAAf,gBACA,qBAAKD,GAAG,WACR,uBAAOC,QAAQ,SAAf,gBACA,qBAAKD,GAAG,iBCVT,MAA0B,wCCA1B,MAA0B,wCCI5BiJ,EAAS,SAAC7D,GACnB,MAA6B5F,mBAAS,QAAtC,mBAAOW,EAAP,KAAekF,EAAf,KAEM6D,EAAe,CACjBxC,EAAG,EACHC,EAAG,EACHC,EAAG,GACHuC,IAAK,EACLC,MAAO,EACPC,KAAM,GAEV,EAA4B7J,mBAAS0J,GAArC,mBAAOI,EAAP,KAAeC,EAAf,KACMC,EAAQ9B,OAAO+B,iBACjBC,EAAgBtD,SAASC,eAAe,UAC5C,EAA8B7G,oBAAS,GAAvC,mBAAOmK,EAAP,KAAgBC,EAAhB,KACIC,EAAWtE,iBAAO,eAAI+D,IACtBQ,EAAUvE,iBAAO,GACjBwE,EAAUxE,iBAAO,GAEfyE,EAAahD,uBAAY,SAAApH,GAC3B,IAAIqK,EAAOrK,EAAEoI,MAAQ0B,EAAczB,WAC/BiC,EAAOtK,EAAEsI,MAAQwB,EAAcvB,UACnC/B,SAASC,eAAe,UAAU8D,UAAYF,EAC9C7D,SAASC,eAAe,UAAU8D,UAAYD,IAChD,CAACR,IAGGU,EAAepD,uBAAY,WAC7B3G,OAAOC,OAAOC,MAAMC,MAAK,SAAAC,GACrB,IAAIC,EAAOD,EAAI4J,aACX3D,EAAIrG,OAAOC,OAAOgK,SAAS5J,EAAM,SACjCiG,EAAItG,OAAOC,OAAOgK,SAAS5J,EAAK,EAAG,SACnCkG,EAAIvG,OAAOC,OAAOgK,SAAS5J,EAAK,EAAG,SACnCyI,EAAM9I,OAAOC,OAAOgK,SAAS5J,EAAK,GAAI,SACtC0I,EAAQ/I,OAAOC,OAAOgK,SAAS5J,EAAK,GAAI,SACxC2I,EAAOhJ,OAAOC,OAAOgK,SAAS5J,EAAK,GAAI,SAE3C6I,EAAU,CAAC7C,IAAGC,IAAGC,IAAGuC,MAAKC,QAAOC,SAChChJ,OAAOC,OAAOY,MAAMR,QAE1B,IAGI6J,EAAavD,uBAAY,SAACpH,GAG5B,GAFAoK,EAAWpK,GAEPA,EAAE4K,SAAuB,IAAZ5K,EAAE6K,MAAa,CAC5B,IAAIC,EAAWC,KAAKrD,IAAIqD,KAAKC,KAAK,IAAKlD,OAAOmC,EAASpE,QAAQ2D,MAAoB,GAAZxJ,EAAEiL,YAAiB,KACtFC,EAASH,KAAKrD,IAAIqD,KAAKC,KAAK,IAAKlD,OAAOmC,EAASpE,QAAQ0D,IAAkB,GAAZvJ,EAAEmL,YAAiB,KACtFlB,EAASpE,QAAT,2BAAuBoE,EAASpE,SAAhC,IAAyC0D,IAAK2B,EAAQ1B,MAAOsB,QAC1D,CACH,IAAIM,EAAOL,KAAKrD,IAAIqD,KAAKC,KAAKpB,EAAO9B,OAAOmC,EAASpE,QAAQiB,EAAgB,GAAZ9G,EAAEmL,YAAiBvB,GAChFyB,EAAON,KAAKrD,IAAIqD,KAAKC,KAAKpB,EAAO9B,OAAOmC,EAASpE,QAAQkB,EAAgB,GAAZ/G,EAAEiL,YAAiBrB,GACpFK,EAASpE,QAAT,2BAAuBoE,EAASpE,SAAhC,IAAyCiB,EAAGsE,EAAMrE,EAAGsE,IAGzD5K,OAAOC,OAAOC,MAAMC,MAAK,SAAAC,GACrBA,EAAIyK,WAAW9F,EAAMI,KAAMqE,EAASpE,QAAQiB,EAAGmD,EAASpE,QAAQkB,EAAGkD,EAASpE,QAAQmB,EAAGiD,EAASpE,QAAQ0D,IAAKU,EAASpE,QAAQ2D,MAAOS,EAASpE,QAAQ4D,MACtJe,SAEN,CAACJ,EAAYR,EAAOY,EAAchF,EAAMI,OAGpCuC,EAAYf,uBAAY,SAACpH,GAC3BkK,EAAQrE,QAAU7F,EAAEoI,MAAQ0B,EAAczB,WAC1C8B,EAAQtE,QAAU7F,EAAEsI,MAAQwB,EAAcvB,UACxB,SAAf/C,EAAMwD,OACLgB,GAAW,GACXC,EAASpE,QAAT,eAAuB6D,MAE7B,CAACI,EAActE,EAAMwD,KAAMU,IAGvBlB,EAAUpB,uBAAY,SAACpH,GACzBgK,GAAW,GACXF,EAAcyB,YAAcnB,IAC9B,CAACN,EAAeM,IAGZoB,EAAUpE,uBAAY,SAACpH,GAEzB,GADAA,EAAEyL,iBACgB,SAAfjG,EAAMwD,KACL,GAAGhJ,EAAE4K,QAAQ,CACT,IAAIhD,EAAMmD,KAAKrD,IAAIqD,KAAKC,KAAK,IAAkB,GAAXhL,EAAE0L,OAAgBhC,EAAOD,MAAO,KACpEE,EAAU,2BAAID,GAAL,IAAYD,KAAM7B,KAC3BnH,OAAOC,OAAOC,MAAMC,MAAK,SAAAC,GAAG,OAAIA,EAAIyK,WAAW9F,EAAMI,KAAM8D,EAAO5C,EAAG4C,EAAO3C,EAAG2C,EAAO1C,EAAG0C,EAAOH,IAAKG,EAAOF,MAAO5B,UAEnH,CACA,IAAIA,EAAMmD,KAAKrD,IAAIqD,KAAKC,KAAKpB,EAAoB,IAAX5J,EAAE0L,OAAiBhC,EAAO1C,GAAI4C,GACpED,EAAU,2BAAID,GAAL,IAAa1C,EAAEY,KACxBnH,OAAOC,OAAOC,MAAMC,MAAK,SAAAC,GAAG,OAAIA,EAAIyK,WAAW9F,EAAMI,KAAM8D,EAAO5C,EAAG4C,EAAO3C,EAAGa,EAAK8B,EAAOH,IAAKG,EAAOF,MAAOE,EAAOD,YAG/H,CAACjE,EAAMwD,KAAMU,EAAQlE,EAAMI,KAAMgE,IAGnC3E,qBAAU,WAQN,MAPkB,SAAfO,EAAMwD,OACLc,EAAcb,YAAcd,EAC5B2B,EAAcZ,UAAYV,GAE9BsB,EAAcyB,YAAcxB,GAA0B,SAAfvE,EAAMwD,KAAkB2B,EAAaP,EAC5EN,EAAc0B,QAAUA,EAEjB,WACH1B,EAAcyB,YAAc,KAC5BzB,EAAcb,YAAc,KAC5Ba,EAAcZ,UAAY,KAC1BY,EAAc0B,QAAU,QAE9B,CAAChG,EAAMwD,KAAK2B,EAAWxC,EAAU2B,EAActB,EAAQgD,EAASzB,EAAQK,IAG1E,IAAMrK,EAAeqH,uBAAY,SAACpH,GAC9B,IAAI4H,EAAME,OAAO9H,EAAEC,OAAOC,OACtByL,EAAS,eAAOjC,GACpB,OAAO1J,EAAEC,OAAOE,WACZ,IAAK,QACDwL,EAAU7E,EAAIc,EACd,MACJ,IAAK,QACD+D,EAAU5E,EAAIa,EACd,MACJ,IAAK,QACD+D,EAAU3E,EAAIY,EACd,MACJ,IAAK,UACD+D,EAAUpC,IAAM3B,EAChB,MACJ,IAAK,YACD+D,EAAUnC,MAAQ5B,EAClB,MACJ,IAAK,WACD+D,EAAUlC,KAAO7B,EACjB,MACJ,QACIlG,QAAQC,IAAI,0BAGpBlB,OAAOC,OAAOC,MAAMC,MAAK,SAAAC,GAAG,OAAIA,EAAIyK,WAAW9F,EAAMI,KAAM+F,EAAU7E,EAAG6E,EAAU5E,EAAG4E,EAAU3E,EAAG2E,EAAUpC,IAAKoC,EAAUnC,MAAOmC,EAAUlC,SAC5Ie,MACF,CAAChF,EAAMI,KAAM8D,EAAQc,IACjBlD,EAAS,CACXC,MAAM,OACN1F,SAAS,GACT2F,SAAS,IACToE,UAAU,EACVC,UAAU,IACV3F,QAAQ,kBACR3F,QAAS,QACTwH,MAAO,QAGX,OACI,qCACI,wBAAQ3H,GAAG,gBAAgBE,MAAO,CAACC,QAAQ,QAASC,QAASgK,IAC7D,sBAAKrK,UAAU,aAAf,UACI,sBAAMA,UAAU,cAAcG,MAAO,CAACwL,SAAS,GAAIC,IAAI,OAAOC,SAAS,YAAvE,0BACA,qBAAKC,IAAKC,EAAaC,IAAI,oBAAoBhM,UAAU,OAAOK,QAAS,SAACR,GACtE2J,EAAUL,GACV7I,OAAOC,OAAOC,MAAMC,MAAK,SAAAC,GAAG,OAAIA,EAAIyK,WAAW9F,EAAMI,KAAK0D,EAAaxC,EAAGwC,EAAavC,EAAGuC,EAAatC,EAAGsC,EAAaC,IAAKD,EAAaE,MAAOF,EAAaG,eAGrK,sBAAKtJ,UAAU,WAAf,UACI,sBAAKA,UAAU,kBAAf,UACI,sBAAMA,UAAU,cAAcG,MAAO,CAACwL,SAAS,GAAIE,SAAS,WAAYD,IAAI,QAA5E,6BACA,qBAAKE,IAAKG,EAAUD,IAAI,sBAAsBhM,UAAU,OAAOC,GAAG,cAC7DI,QAAS,SAACR,GAAD,OAAOyF,GAAW,SAAAQ,GAAI,MAAa,SAATA,EAAkB,QAAU,gBACxE,cAAC,IAAD,CAAWoG,OAAO,eAAlB,SACI,sBAAKlM,UAAU,aAAaC,GAAG,cAAcE,MAAO,CAACuB,SAAS,IAAIyK,OAAQ,OAAQC,SAAU,OAAQhM,QAAQA,GAA5G,UACI,qBAAKJ,UAAU,cAAcG,MAAO,CAAC4F,QAAQ,GAA7C,oBACA,sBAAK/F,UAAU,SAASG,MAAOgH,EAA/B,eAEI,uBAAOvF,KAAK,SACL5B,UAAU,QACVuH,KAAMkC,EAAOoB,IAAKpB,EAClBtJ,MAAO,CAACkH,SAAS,IAAKpB,YAAY,GAAIvE,SAAS,GAAIkG,MAAM,OACzDyE,UAAU,IACVtM,MAAOwJ,EAAO5C,EAAG9E,SAAUjC,OAEtC,sBAAKI,UAAU,SAASG,MAAOgH,EAA/B,eAEI,uBAAOvF,KAAK,SACL5B,UAAU,QACVuH,KAAMkC,EAAOoB,IAAKpB,EAClBtJ,MAAO,CAACkH,SAAS,IAAKpB,YAAY,GAAIvE,SAAS,GAAIkG,MAAM,OACzDyE,UAAU,IACVtM,MAAOwJ,EAAO3C,EAAG/E,SAAUjC,OAEtC,sBAAKI,UAAU,SAASG,MAAOgH,EAA/B,eAEI,uBAAOvF,KAAK,SACL5B,UAAU,QACVuH,KAAMkC,EAAOoB,IAAKpB,EAClBtJ,MAAO,CAACkH,SAAS,IAAKpB,YAAY,GAAIvE,SAAS,GAAIkG,MAAM,OACzDyE,UAAU,IACVtM,MAAOwJ,EAAO1C,EAAGhF,SAAUjC,OAEtC,sBAAKI,UAAU,SAASG,MAAOgH,EAA/B,iBAEI,uBAAOvF,KAAK,SACL5B,UAAU,UACVuH,IAAI,OAAOsD,IAAI,MACf1K,MAAO,CAACkH,SAAS,IAAKpB,YAAY,GAAIvE,SAAS,GAAIkG,MAAM,OACzDyE,UAAU,IACVtM,MAAOwJ,EAAOH,IAAKvH,SAAUjC,OAExC,sBAAKI,UAAU,SAASG,MAAOgH,EAA/B,mBAEI,uBAAOvF,KAAK,SACL5B,UAAU,YACVuH,IAAI,OAAOsD,IAAI,MACf1K,MAAO,CAACkH,SAAS,IAAKpB,YAAY,GAAIvE,SAAS,GAAIkG,MAAM,OACzDyE,UAAU,IACVtM,MAAOwJ,EAAOF,MAAOxH,SAAUjC,OAE1C,sBAAKI,UAAU,SAASG,MAAOgH,EAA/B,kBAEI,uBAAOvF,KAAK,SACL5B,UAAU,WACVuH,IAAI,OAAOsD,IAAI,MACf1K,MAAO,CAACkH,SAAS,IAAKpB,YAAY,GAAIvE,SAAS,GAAIkG,MAAM,OACzDyE,UAAU,IACVtM,MAAOwJ,EAAOD,KAAMzH,SAAUjC,mBCjOpD0M,EAAY,SAACjH,GAEtB,IAAMzF,EAAeqH,uBAAY,SAACpH,GAC9BwF,EAAM2D,SAAQ,SAAAlD,GAAI,OAAIjG,EAAEC,OAAOC,QAAU+F,EAAO,UAAYjG,EAAEC,OAAOC,WACvE,CAACsF,IACH,OACI,sBAAKrF,UAAU,YAAf,UACI,uBAAO4B,KAAK,WAAW3B,GAAG,aAAaD,UAAU,SAASD,MAAM,OAChE+B,QAAwB,SAAfuD,EAAMwD,KAAiBhH,SAAUjC,IAC1C,uBAAOM,QAAQ,aAAaF,UAAU,cAAtC,6BCDCuM,EAAU,WACnB,MAAwB9M,mBAAS,WAAjC,mBAAOoJ,EAAP,KAAaG,EAAb,KACA,EAAwBvJ,mBAAS,GAAjC,mBAAOgG,EAAP,KAAa+G,EAAb,KACA,EAAsB/M,oBAAS,GAA/B,mBAAOgN,EAAP,KAAYC,EAAZ,KAOA,OANA5H,qBAAU,WACN,IAAI6H,EAAWtG,SAASC,eAAe,aACnCsG,EAAOvG,SAASuG,KACpBD,EAASxM,MAAMC,QAAUqM,EAAM,QAAU,OACzCG,EAAKzM,MAAMiM,SAAWK,EAAM,UAAY,WAC1C,CAACA,IAEC,sBAAKxM,GAAI,UAAUD,UAAU,UAA7B,UACI,sBAAKA,UAAU,OAAf,UACI,sBAAMA,UAAU,cAAcG,MAAO,CAACwL,SAAS,GAAIE,SAAS,WAAYD,IAAI,OAAQiB,KAAK,GAAzF,kBACA,wBAAQ7M,UAAU,UAAUK,QAAS,kBAAMC,OAAOC,OAAOC,MAAMC,MAAK,SAAAC,GAAG,OAAIA,EAAIoM,WAA/E,uBAEJ,sBAAK9M,UAAU,OAAf,UACI,sBAAMA,UAAU,cAAcG,MAAO,CAACwL,SAAS,GAAIE,SAAS,WAAYD,IAAI,OAAQiB,KAAK,IAAzF,kBACA,wBAAQ7M,UAAU,UAAUK,QAAS,kBAAMC,OAAOC,OAAOC,MAAMC,MAAK,SAAAC,GAAG,OAAIA,EAAIqM,WAA/E,uBAEJ,wBAAQ9M,GAAG,YAAYD,UAAU,OAAOK,QAAS,kBAAMqM,GAAQD,IAA/D,uBACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,CAAUhH,KAAMA,EAAM+G,QAASA,IAC/B,cAAC,EAAD,IACA,cAAC,EAAD,CAAY3D,KAAMA,EAAMG,QAASA,IACjC,wBAAQhJ,UAAU,OAAOK,QAAS,kBAAMC,OAAOC,OAAOC,MAAMC,MAAK,SAAAC,GAAG,OAAIA,EAAIsM,gBAA5E,uBACA,cAAC,EAAD,CAAQnE,KAAMA,EAAMpD,KAAMA,IAC1B,cAAC,EAAD,CAAWoD,KAAMA,EAAMG,QAASA,IAChC,cAAC,EAAD,QCrCCiE,EAAS,WAClB,OACI,sBAAKhN,GAAG,SAASD,UAAU,SAA3B,UACI,mBAAGC,GAAG,QAAN,0BACA,oBAAIA,GAAG,OAAP,SACI,6BAAI,mBAAGD,UAAU,OAAOF,OAAO,SAASoN,KAA+B,YAAnE,0B,MC6BLC,MA/Bf,WAuBI,OAtBArI,qBAAU,WACNuB,SAASC,eAAe,QAAQ+E,QAAU,SAASxL,GAC/CA,EAAEyL,kBAEN,IAAIxD,EAASzB,SAASC,eAAe,UACrChG,OAAO8M,SAAW,SAASvN,GACvB,IAAIwN,EAAIvF,EAAOwF,YACXC,EAAIzF,EAAO0F,aACZH,IAAMvF,EAAOF,OAAS2F,IAAMzF,EAAO2F,SAClC3F,EAAOF,MAAQyF,EACfvF,EAAO2F,OAASF,GAEpBjN,OAAOC,OAAOC,MAAMC,MAAK,SAAAC,GAAG,OAAIA,EAAIgN,SAASL,EAAEE,OAEnDzF,EAAOsD,YAAc,SAASvL,GAC1B,IAAIqK,EAAOrK,EAAEoI,MAAQH,EAAOI,WACxBiC,EAAOtK,EAAEsI,MAAQL,EAAOM,UAC5B/B,SAASC,eAAe,UAAU8D,UAAYF,EAC9C7D,SAASC,eAAe,UAAU8D,UAAYD,KAEpD,IAGE,qCACI,cAAC,EAAD,IACA,cAAC,EAAD,QC3BZwD,IAASC,OACL,cAAC,IAAMC,WAAP,UACI,cAAC,EAAD,MAEJxH,SAASC,eAAe,SAE5BqH,IAASC,OAAO,cAAC,EAAD,IAAQvH,SAASC,eAAe,SAG5BD,SAASC,eAAe,UAC9B8E,YAAc,SAASvL,GACjC,IAAI8G,EAAI9G,EAAEoI,MAAQ6F,KAAK5F,WACnBtB,EAAI/G,EAAEsI,MAAQ2F,KAAK1F,UACvB/B,SAASC,eAAe,UAAU8D,UAAYzD,EAC9CN,SAASC,eAAe,UAAU8D,UAAYxD,K","file":"static/js/main.77541e88.chunk.js","sourcesContent":["import {saveAs} from 'file-saver'\r\nimport {useState} from 'react'\r\n\r\nconst Export = () => {\r\n    const [format, setFormat] = useState('.stl');\r\n\r\n    const handleChange = (e) => {setFormat(e.target.value);}\r\n\r\n    const handleClick = () => {\r\n        window.Module.ready.then(api => {\r\n\r\n            //get pointer to byte array\r\n            let addr = api.export_model(format);\r\n            let len = api.get_export_strlen();\r\n\r\n            //read array from wasm heap\r\n            const data = new Uint8Array(window.Module.HEAP8.subarray(addr, addr+len));\r\n            window.Module._free(addr)\r\n            //save data with selected file format\r\n            saveAs(new Blob([data]),'file'+format);\r\n        })\r\n            .catch(e => console.log(\"Failed to export model\"));\r\n    }\r\n    return (\r\n        <div className=\"dropdown\" id=\"export-menu\">\r\n            <label htmlFor=\"export\" className=\"tool\">Export File</label>\r\n            <button id=\"export\" style={{display:\"none\"}} onClick={handleClick}/>\r\n            <div className=\"menu-items\" style={{color:\"black\", minWidth:90, paddingRight:10}}>\r\n                <input type=\"radio\"\r\n                       onChange={handleChange}\r\n                       value=\".stl\"\r\n                       checked={format === '.stl'}/>.stl\r\n                <input type=\"radio\"\r\n                       onChange={handleChange}\r\n                       value=\".obj\"\r\n                       checked={format === '.obj'}/>.obj\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport const ExportFile = () => {\r\n    return (\r\n        <Export />\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { useEffect } from 'react';\r\n\r\nconst ToUTF8Array = (str) => {\r\n    let utf8 = [];\r\n    for (let i=0; i < str.length; i++) {\r\n        let charcode = str.charCodeAt(i);\r\n        if (charcode < 0x80) utf8.push(charcode);\r\n        else if (charcode < 0x800) {\r\n            utf8.push(\r\n                0xc0 | (charcode >> 6),\r\n                0x80 | (charcode & 0x3f));\r\n        } else if (charcode < 0xd800 || charcode >= 0xe000) {\r\n            utf8.push(\r\n                0xe0 | (charcode >> 12),\r\n                0x80 | ((charcode>>6) & 0x3f),\r\n                0x80 | (charcode & 0x3f));\r\n        } else {\r\n            i++;\r\n            charcode = 0x10000 + (((charcode & 0x3ff)<<10) | (str.charCodeAt(i) & 0x3ff));\r\n            utf8.push(\r\n                0xf0 | (charcode >>18),\r\n                0x80 | ((charcode>>12) & 0x3f),\r\n                0x80 | ((charcode>>6) & 0x3f),\r\n                0x80 | (charcode & 0x3f));\r\n        }\r\n    }\r\n    return utf8;\r\n}\r\n\r\n//Test for utf-8 control characters\r\nconst isASCII = (str) => {\r\n    // eslint-disable-next-line\r\n    return /^[\\x00-\\x7F]*$/.test(str);\r\n}\r\n\r\nfunction isBinarySTL(buffer){\r\n    let tag = \"solid\";\r\n    let start = new Uint8Array(buffer.slice(0, tag.length));\r\n\r\n    for (let i=0; i<tag.length; i++){\r\n        if (tag.charCodeAt(i) !== start[i]){\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\nconst Import = () => {\r\n    let fileReader;\r\n    let fileName = '';\r\n    let fileFormat = 99; // null\r\n                    //0: obj\r\n                    //1: stl (ascii)\r\n                    //2: stl (binary)\r\n                    //3: filepath\r\n\r\n    const handleChange = ({target: {files}}) => {\r\n        try {\r\n            fileName = files[0].name;\r\n            fileReader = new FileReader();\r\n            if (/^[ a-zA-Z0-9!#$%&'()+_-]+\\.[.obj|.OBJ]+$/.test(fileName)) {\r\n                fileFormat = 0;\r\n            } else if (/^[ a-zA-Z0-9!#$%&'()+_-]+\\.[.stl|.STL]+$/.test(fileName)) {\r\n                if (isBinarySTL(files[0])) {\r\n                    fileFormat = 2;\r\n                } else {\r\n                    fileFormat = 1;\r\n                }\r\n            } else {\r\n                alert(\"wrong file format\");\r\n                return {};\r\n            }\r\n            fileReader.onloadend = handleFileRead;\r\n            fileReader.readAsText(files[0], 'ISO-8859-1');\r\n        } catch (err) {\r\n            console.log(err => console.log(\"import canceled\"));\r\n        }\r\n    }\r\n\r\n    const sendFile = (filePath) => {\r\n        window.Module.ready.then(api => api.import_file(filePath, fileFormat))\r\n            .catch(e => console.log(\"ImportFile.js failed to send string to emscripten\"));\r\n        console.log(\"ImportFile.js operation concluded\")\r\n    }\r\n    const handleFileRead = () => {\r\n        if (fileFormat === 0 || fileFormat === 1){\r\n            // array of bytes (8-bit unsigned int) representing the string\r\n            const result = fileReader.result;\r\n            let uint8_view;\r\n            if(isASCII(result))\r\n                uint8_view    = new Uint8Array(ToUTF8Array(result));\r\n            else\r\n                uint8_view   =\r\n                    new TextEncoder(\"ISO-8859-1\",{NONSTANDARD_allowLegacyEncoding: true}).encode(result);\r\n\r\n            const len = uint8_view.length;\r\n\r\n            // alloc memory\r\n            //const input_ptr = window.Module.ready.cache = [len];\r\n            const input_ptr = window.Module._malloc(len * uint8_view.BYTES_PER_ELEMENT)\r\n\r\n            // write WASM memory calling the set method of the Uint8Array\r\n            window.Module.HEAPU8.set(uint8_view, input_ptr);\r\n\r\n            window.Module.ready.then(api => console.log(api.import_model(input_ptr, fileFormat)))\r\n                .catch(err => console.log(\"ImportFile.js failed to send string to emscripten\"));\r\n        } else if (fileFormat === 2) {\r\n            const getView = async () => {\r\n                try {\r\n                    const result = fileReader.result;\r\n                    let uint8_view =\r\n                        new TextEncoder(\"ISO-8859-1\", {NONSTANDARD_allowLegacyEncoding: true}).encode(result);\r\n                    if (!uint8_view) {\r\n                        console.log(err => \"could not convert view to Uint8Array\");\r\n                    } else {\r\n                        setTimeout(window.FS.writeFile(fileName, uint8_view, err => {\r\n                            if (err) {\r\n                                console.log(\"stuff broke\");\r\n                            }\r\n                        }), 1000);\r\n                        setTimeout(window.FS.readFile(fileName, err => {\r\n                            if (err) {\r\n                                console.log(\"stuff broke\");\r\n                            }\r\n                        }), 1000);\r\n                        setTimeout(sendFile(fileName), 1000);\r\n                    }\r\n                } catch (err) {\r\n                    console.log(err => console.log(\"import did not complete and was aborted\"));\r\n                }\r\n            };\r\n            getView();\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        window.addEventListener('file', handleChange);\r\n\r\n        return () => {\r\n            window.removeEventListener('file', handleChange);\r\n        };\r\n    }, );\r\n\r\n    return (\r\n        <div>\r\n            <label htmlFor=\"upload-file\">Upload File</label>\r\n\r\n            <input\r\n                id=\"upload-file\"\r\n                name=\"upload-file\"\r\n                style={{display:\"none\"}}\r\n                accept='.stl, .obj'\r\n                data-testid='import-file'\r\n                onChange={handleChange}\r\n                type=\"file\"\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const ImportFile = () => {\r\n    return (\r\n        <div className=\"tool\">\r\n            <Import />\r\n        </div>\r\n    );\r\n};","/* eslint-disable */\r\nimport Draggable from 'react-draggable';\r\nimport {useState, useRef} from 'react';\r\n\r\nexport const ViewMenu = (props) => {\r\n    const [display,setDisplay] = useState(\"none\");\r\n    const loop = useRef(0);\r\n\r\n    const zoom = (e) => {\r\n        loop.current = setInterval(() => {\r\n            window.Module.ready.then(api => api.zoom(e.target.value));\r\n        },10);\r\n    }\r\n    const stop = ()=>{\r\n        clearInterval(loop.current);\r\n    }\r\n\r\n    return (\r\n        <div className=\"dropdown\">\r\n            <button className=\"tool\"\r\n                    onClick={(e) => setDisplay(prev => prev === \"none\" ? \"block\" : \"none\")}>\r\n                View\r\n            </button>\r\n            <Draggable>\r\n                <div className=\"menu-items\" id=\"view-menu\" style={{display:display}}>\r\n                    <div className=\"menu-header\" style={{padding:5}}>View</div>\r\n                    <div className=\"option\" style={{textAlign:\"left\"}}>\r\n                        Zoom\r\n                        <div style={{paddingRight:5, display:\"inline\", paddingLeft:5}}>\r\n                            <button style={{marginRight:10}} value={1} onMouseDown={zoom} onMouseUp={stop}>-</button>\r\n                            <button value={-1} onMouseDown={zoom} onMouseUp={stop}>+</button>\r\n                        </div>\r\n                    </div>\r\n                    {/*<a className=\"option\" href=\"#\">Perspective</a>*/}\r\n                    <a className=\"option\" onClick={() => document.getElementById('fullscreen').click()}>\r\n                        Fullscreen\r\n                    </a>\r\n                </div>\r\n            </Draggable>\r\n        </div>\r\n    )\r\n}","import Draggable from 'react-draggable';\r\nimport {useState, useCallback} from 'react';\r\n\r\nexport const EditMenu = () => {\r\n    const [display,setDisplay] = useState(\"none\");\r\n    const [factor, setFactor] = useState(0.001);\r\n    const [twist, setTwist] = useState({\r\n        x:0,\r\n        y:0,\r\n        z:0\r\n    })\r\n    //Scale the model\r\n    const Scale = () => {\r\n        let val = document.getElementById(\"scale-val\").value;\r\n        if(val > 0.1) {\r\n            window.Module.ready.then(api => {\r\n                api.scale(val / 100)\r\n            })\r\n        }\r\n    }\r\n    const Twist = useCallback(() => {\r\n        window.Module.ready.then(api => {\r\n            api.twist_vertices(twist.x, 'X');\r\n            api.twist_vertices(twist.y, 'Y');\r\n            api.twist_vertices(twist.z, 'Z');\r\n        })\r\n    },[twist])\r\n\r\n    const styles = {\r\n        float:\"left\",\r\n        maxWidth:\"50px\"\r\n    }\r\n    return (\r\n        <div className=\"dropdown\">\r\n            <button className=\"tool\"\r\n                    onClick={(e) => setDisplay(prev => prev === \"none\" ? \"block\" : \"none\")}>Edit</button>\r\n            <Draggable>\r\n                <div className=\"menu-items\" id=\"edit-menu\" style={{display:display}}>\r\n                    <div className=\"menu-header\" style={{padding:5}}>Edit</div>\r\n                    <div className=\"option\">\r\n                        Scale Model\r\n                        <input id=\"scale-val\"\r\n                               style={styles}\r\n                               type=\"number\"\r\n                               placeholder=\"100\"\r\n                               min=\"1\"\r\n                               step=\"1\"/>\r\n                        <span style={{...styles, paddingLeft:2}}>% </span>\r\n                        <button onClick={Scale}>Apply</button>\r\n                    </div>\r\n                    <div className=\"option\">\r\n                        Bend Vertex\r\n                        <div className=\"input-box\">\r\n                            <input className=\"bend-val\"\r\n                                   style={styles}\r\n                                   type=\"number\"\r\n                                   placeholder=\"0\"\r\n                                   min=\"0\"\r\n                                   step=\"1\"/>\r\n                            <span style={{...styles, paddingLeft:2}}>&#176; X</span>\r\n                            <input className=\"bend-val\"\r\n                                   style={styles}\r\n                                   type=\"number\"\r\n                                   placeholder=\"0\"\r\n                                   min=\"0\"\r\n                                   step=\"1\"/>\r\n                            <span style={{...styles, paddingLeft:2}}>&#176; Y</span>\r\n                            <input className=\"bend-val\"\r\n                                   style={styles}\r\n                                   type=\"number\"\r\n                                   placeholder=\"0\"\r\n                                   min=\"0\"\r\n                                   step=\"1\"/>\r\n                            <span style={{...styles, paddingLeft:2}}>&#176; Z</span>\r\n                            <button>Apply</button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"option\">\r\n                        Twist Vertex\r\n                        <div className=\"input-box\">\r\n                            <input className=\"bend-val\"\r\n                                   style={styles}\r\n                                   type=\"number\"\r\n                                   value={twist.x}\r\n                                   onChange={(e) => {setTwist({...twist,x:Number(e.target.value)})}}\r\n                                   min=\"0\"\r\n                                   step=\"1\"/>\r\n                            <span style={{...styles, paddingLeft:2}}> X</span>\r\n                            <input className=\"bend-val\"\r\n                                   style={styles}\r\n                                   type=\"number\"\r\n                                   value={twist.y}\r\n                                   onChange={(e) => {setTwist({...twist,y:Number(e.target.value)})}}\r\n                                   min=\"0\"\r\n                                   step=\"1\"/>\r\n                            <span style={{...styles, paddingLeft:2}}> Y</span>\r\n                            <input className=\"bend-val\"\r\n                                   style={styles}\r\n                                   type=\"number\"\r\n                                   value={twist.z}\r\n                                   onChange={(e) => {setTwist({...twist,z:Number(e.target.value)})}}\r\n                                   min=\"0\"\r\n                                   step=\"1\"/>\r\n                            <span style={{...styles, paddingLeft:2}}> Z</span>\r\n                            <button onClick={Twist}>Apply</button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"option\">\r\n                        Translate Factor\r\n                        <div className=\"input-box\">\r\n                            <input type='number' id='translationFactor'\r\n                                   min='0.001' step='0.01'\r\n                                   style={{width:60}}\r\n                                   value={factor}\r\n                                   onChange={(e) => setFactor(Number(e.target.value))}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Draggable>\r\n        </div>\r\n    )\r\n}","import {useCallback, useEffect, useRef, useState} from \"react\";\r\nimport Draggable from \"react-draggable\";\r\nexport const SelectMenu = (props) => {\r\n    let canvas = document.getElementById(\"canvas\")\r\n    const clickPos = useRef({x:0, y:0})\r\n    const [display,setDisplay] = useState(\"none\");\r\n\r\n    //Pass selection coords to backend\r\n    //Backend assumes (x1,y1) is top left\r\n    function selectArea(x1, y1, x2, y2){\r\n        window.Module.ready.then(api => {\r\n            if(x1 <= x2 && y1 <= y2)\r\n                api.on_mouse_up(x1, y1, x2, y2);\r\n            else if(x1 >= x2 && y1 <= y2)\r\n                api.on_mouse_up(x2, y1, x1, y2);\r\n            else if(x1 <= x2 && y1 >= y2)\r\n                api.on_mouse_up(x1, y2, x2, y1);\r\n            else\r\n                api.on_mouse_up(x2, y2, x1, y1);\r\n        });\r\n    }\r\n    //Store mouse position\r\n    const mouseDown = useCallback((e) => {\r\n        clickPos.current = {x: e.pageX - canvas.offsetLeft, y: e.pageY - canvas.offsetTop}\r\n    },[canvas]);\r\n\r\n    //Select area\r\n    const mouseUp = useCallback((e) => {\r\n        let x2 = e.pageX - canvas.offsetLeft;\r\n        let y2 = e.pageY - canvas.offsetTop;\r\n        selectArea(clickPos.current.x, clickPos.current.y, x2, y2);\r\n    },[canvas]);\r\n\r\n    //onclick event for handling vertex selection\r\n    const onClick = useCallback((e) => {\r\n        let x = e.pageX - canvas.offsetLeft;\r\n        let y = e.pageY - canvas.offsetTop;\r\n        window.Module.ready.then(api => {\r\n            //For now, select a small section\r\n            api.on_mouse_up(x-3, y-3, x+3, y+3);\r\n        })\r\n    },[canvas])\r\n    useEffect(() => {\r\n        canvas.onclick = props.tool === \"vertex\" ? onClick : null;\r\n        if(props.tool === \"select\") {\r\n            canvas.onmousedown = mouseDown;\r\n            canvas.onmouseup = mouseUp;\r\n        }\r\n        return () => {\r\n            canvas.onclick = null;\r\n            canvas.onmouseup = null;\r\n            canvas.onmousedown = null;\r\n        }\r\n    },[props.tool,mouseUp,mouseDown,canvas, onClick])\r\n    return (\r\n        <div className=\"dropdown\">\r\n            <button className=\"tool\"\r\n                    onClick={(e) => setDisplay(prev => prev === \"none\" ? \"block\" : \"none\")}>\r\n                Select\r\n                <input type=\"checkbox\" id='selectToggle'\r\n                       checked={props.tool === \"select\" || props.tool === \"vertex\" || props.tool === \"section\"}\r\n                       onChange={e => {\r\n                           props.setTool(prev => prev === \"select\" || prev === \"vertex\" ? \"default\" : \"select\");\r\n                       }}/>\r\n            </button>\r\n            <Draggable>\r\n                <div className=\"menu-items\" id=\"select-menu\" style={{display:display}}>\r\n                    <div className=\"menu-header\" style={{padding:5}}>Select</div>\r\n                    <div className=\"option\">\r\n                        Vertex\r\n                        <input type=\"checkbox\" checked={props.tool === \"vertex\"}\r\n                               onChange={e => props.setTool(e.target.value === props.tool ? \"default\" : e.target.value)}\r\n                               value=\"vertex\"\r\n                               className=\"toggle\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"option\">\r\n                        Section\r\n                        <input type=\"checkbox\" checked={props.tool === \"select\"}\r\n                               onChange={e => props.setTool(e.target.value === props.tool ? \"default\" : e.target.value)}\r\n                               value=\"select\"\r\n                               id=\"select\" className=\"toggle\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"option\" id=\"hover_here\">\r\n                        Cross section\r\n                        <input type='checkbox' checked={props.tool === \"section\"}\r\n                               onChange={e => props.setTool(e.target.value === props.tool ? \"default\" : e.target.value)}\r\n                               value=\"section\"\r\n                               id='crossToggle' className='toggle'/>\r\n                    </div>\r\n                    <div id=\"hidden_box\">\r\n                        <p id=\"hidden_text\"> Click on the model to place a line on each side of the section you'd like to select. Right click to remove a line. </p>\r\n                    </div>\r\n                </div>\r\n            </Draggable>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\n\r\nexport const Coords = () => {\r\n\r\n    return (\r\n        <>\r\n            <div className='coords'>\r\n                <label htmlFor='xcoord'>X:</label>\r\n                <div id='xcoord'></div>\r\n                <label htmlFor='ycoord'>Y:</label>\r\n                <div id='ycoord'></div>\r\n            </div>\r\n\r\n        </>\r\n    );\r\n}","export default __webpack_public_path__ + \"static/media/camera_icon.3627afb5.jpg\";","export default __webpack_public_path__ + \"static/media/center_icon.caff76f0.jpg\";","import {useState, useCallback, useRef, useEffect} from \"react\";\r\nimport Draggable from \"react-draggable\";\r\nimport cam_icon from '../button_icons/camera_icon.jpg';\r\nimport center_icon from \"../button_icons/center_icon.jpg\";\r\nexport const Camera = (props) => {\r\n    const [display,setDisplay] = useState(\"none\");\r\n\r\n    const cameraOrigin = {\r\n        x: 2,\r\n        y: 3,\r\n        z: 15,\r\n        yaw: 0,\r\n        pitch: 0,\r\n        roll: 0\r\n    }\r\n    const [camera, setCamera] = useState(cameraOrigin);\r\n    const range = Number.MAX_SAFE_INTEGER;//range of xyz coordinates\r\n    let canvasElement = document.getElementById('canvas');\r\n    const [clicked, setClicked] = useState(false) //Sets onmousemove listener\r\n    let moveVals = useRef({...camera})//tracks mouse movement without rerender\r\n    let canvasX = useRef(0);\r\n    let canvasY = useRef(0);\r\n    //Track mouse coords\r\n    const trackMouse = useCallback(e => {\r\n        let curX = e.pageX - canvasElement.offsetLeft;\r\n        let curY = e.pageY - canvasElement.offsetTop;\r\n        document.getElementById('xcoord').innerHTML = curX;\r\n        document.getElementById('ycoord').innerHTML = curY;\r\n    },[canvasElement]);\r\n\r\n    //Read camera values from backend\r\n    const updateCamera = useCallback(() =>{\r\n        window.Module.ready.then(api => {\r\n            let addr = api.get_camera()\r\n            let x = window.Module.getValue(addr, \"float\");\r\n            let y = window.Module.getValue(addr+4, \"float\");\r\n            let z = window.Module.getValue(addr+8, \"float\");\r\n            let yaw = window.Module.getValue(addr+12, \"float\");\r\n            let pitch = window.Module.getValue(addr+16, \"float\");\r\n            let roll = window.Module.getValue(addr+20, \"float\");\r\n            // console.log({x, y, z, yaw, pitch, roll});\r\n            setCamera({x, y, z, yaw, pitch, roll})\r\n            window.Module._free(addr);\r\n        });\r\n    },[]);\r\n\r\n    //Handle mouse(and camera) movement\r\n    const handleMove = useCallback((e) =>{\r\n        trackMouse(e);\r\n        //Use Ctrl key or right click to change angles\r\n        if (e.ctrlKey || e.which === 3) {\r\n            let newPitch = Math.min(Math.max(-360, Number(moveVals.current.pitch - e.movementY*0.1)), 360);\r\n            let newYaw = Math.min(Math.max(-360, Number(moveVals.current.yaw + e.movementX*0.1)), 360);\r\n            moveVals.current = {...moveVals.current, yaw: newYaw, pitch: newPitch};\r\n        } else {\r\n            let newX = Math.min(Math.max(-range, Number(moveVals.current.x + e.movementX*0.1)), range);\r\n            let newY = Math.min(Math.max(-range, Number(moveVals.current.y - e.movementY*0.1)), range);\r\n            moveVals.current = {...moveVals.current, x: newX, y: newY};\r\n        }\r\n        // setCamera({...moveVals.current});\r\n        window.Module.ready.then(api => {\r\n            api.set_camera(props.zoom, moveVals.current.x, moveVals.current.y, moveVals.current.z, moveVals.current.yaw, moveVals.current.pitch, moveVals.current.roll);\r\n            updateCamera();\r\n        })\r\n    },[trackMouse, range, updateCamera, props.zoom]);\r\n\r\n    //On mouse down store mouse position\r\n    const mouseDown = useCallback((e) => {\r\n        canvasX.current = e.pageX - canvasElement.offsetLeft;\r\n        canvasY.current = e.pageY - canvasElement.offsetTop;\r\n        if(props.tool === 'move') {\r\n            setClicked(true);\r\n            moveVals.current = {...camera};\r\n        }\r\n    },[canvasElement,props.tool, camera]);\r\n\r\n    //On mouse up call corresponding function\r\n    const mouseUp = useCallback((e) => {\r\n        setClicked(false);\r\n        canvasElement.onmousemove = trackMouse;\r\n    },[canvasElement, trackMouse])\r\n\r\n    //Move camera while scrolling wheel\r\n    const onwheel = useCallback((e) => {\r\n        e.preventDefault();\r\n        if(props.tool === 'move') {\r\n            if(e.ctrlKey){\r\n                let val = Math.min(Math.max(-360,  (e.deltaY * 0.1) + camera.roll), 360);\r\n                setCamera({...camera,roll: val});\r\n                window.Module.ready.then(api => api.set_camera(props.zoom, camera.x, camera.y, camera.z, camera.yaw, camera.pitch, val));\r\n            }\r\n            else{\r\n                let val = Math.min(Math.max(-range,  (e.deltaY * 0.01) + camera.z), range);\r\n                setCamera({...camera, z:val});\r\n                window.Module.ready.then(api => api.set_camera(props.zoom, camera.x, camera.y, val, camera.yaw, camera.pitch, camera.roll));\r\n            }\r\n        }\r\n    },[props.tool, camera, props.zoom, range])\r\n\r\n    //Set event listeners\r\n    useEffect(() => {\r\n        if(props.tool === \"move\"){\r\n            canvasElement.onmousedown = mouseDown;\r\n            canvasElement.onmouseup = mouseUp;\r\n        }\r\n        canvasElement.onmousemove = clicked && props.tool === \"move\" ? handleMove : trackMouse;\r\n        canvasElement.onwheel = onwheel;\r\n        //Remove event listeners\r\n        return () => {\r\n            canvasElement.onmousemove = null;\r\n            canvasElement.onmousedown = null;\r\n            canvasElement.onmouseup = null;\r\n            canvasElement.onwheel = null;\r\n        }\r\n    },[props.tool,handleMove,mouseDown,canvasElement,mouseUp,onwheel, clicked,trackMouse]);\r\n\r\n    //Handle input\r\n    const handleChange = useCallback((e) => {\r\n        let val = Number(e.target.value);\r\n        let newCamera = {...camera};\r\n        switch(e.target.className){\r\n            case \"x-inp\":\r\n                newCamera.x = val;\r\n                break\r\n            case \"y-inp\":\r\n                newCamera.y = val;\r\n                break\r\n            case \"z-inp\":\r\n                newCamera.z = val;\r\n                break\r\n            case \"yaw-inp\":\r\n                newCamera.yaw = val;\r\n                break\r\n            case \"pitch-inp\":\r\n                newCamera.pitch = val;\r\n                break\r\n            case \"roll-inp\":\r\n                newCamera.roll = val;\r\n                break\r\n            default:\r\n                console.log(\"unexpected input class\");\r\n        }\r\n        // setCamera({...newCamera});\r\n        window.Module.ready.then(api => api.set_camera(props.zoom, newCamera.x, newCamera.y, newCamera.z, newCamera.yaw, newCamera.pitch, newCamera.roll));\r\n        updateCamera();\r\n    },[props.zoom, camera, updateCamera]);\r\n    const styles = {\r\n        float:\"left\",\r\n        minWidth:10,\r\n        maxWidth:1000,\r\n        minHeight:2,\r\n        maxHeight:500,\r\n        padding:\"12px 0 16px 5px\",\r\n        display: \"block\",\r\n        width: \"100%\",\r\n    }\r\n\r\n    return(\r\n        <>\r\n            <button id=\"update_camera\" style={{display:\"none\"}} onClick={updateCamera}/>\r\n            <div className=\"reset_icon\">\r\n                <span className=\"description\" style={{fontSize:10, top:\"100%\",position:\"absolute\"}}>Reset Camera</span>\r\n                <img src={center_icon} alt=\"center model icon\" className=\"icon\" onClick={(e) => {\r\n                    setCamera(cameraOrigin);\r\n                    window.Module.ready.then(api => api.set_camera(props.zoom,cameraOrigin.x, cameraOrigin.y, cameraOrigin.z, cameraOrigin.yaw, cameraOrigin.pitch, cameraOrigin.roll))\r\n                }}/>\r\n            </div>\r\n            <div className=\"dropdown\">\r\n                <div className=\"camera_controls\">\r\n                    <span className=\"description\" style={{fontSize:10, position:\"absolute\", top:\"100%\"}}>Camera Controls</span>\r\n                    <img src={cam_icon} alt=\"camera control icon\" className=\"icon\" id=\"camera_icon\"\r\n                         onClick={(e) => setDisplay(prev => prev === \"none\" ? \"block\" : \"none\")}/></div>\r\n                <Draggable handle=\".menu-header\">\r\n                    <div className=\"menu-items\" id=\"camera-menu\" style={{minWidth:110,resize: \"both\", overflow: \"auto\", display:display}}>\r\n                        <div className=\"menu-header\" style={{padding:5}}>Camera</div>\r\n                        <div className=\"option\" style={styles}>\r\n                            X:\r\n                            <input type=\"number\"\r\n                                   className=\"x-inp\"\r\n                                   min={-range} max={range}\r\n                                   style={{maxWidth:500, paddingLeft:10, minWidth:30, width:\"20%\"}}\r\n                                   maxLength=\"4\"\r\n                                   value={camera.x} onChange={handleChange}/>\r\n                        </div>\r\n                        <div className=\"option\" style={styles}>\r\n                            Y:\r\n                            <input type=\"number\"\r\n                                   className=\"y-inp\"\r\n                                   min={-range} max={range}\r\n                                   style={{maxWidth:500, paddingLeft:10, minWidth:30, width:\"20%\"}}\r\n                                   maxLength=\"4\"\r\n                                   value={camera.y} onChange={handleChange}/>\r\n                        </div>\r\n                        <div className=\"option\" style={styles}>\r\n                            Z:\r\n                            <input type=\"number\"\r\n                                   className=\"z-inp\"\r\n                                   min={-range} max={range}\r\n                                   style={{maxWidth:500, paddingLeft:10, minWidth:30, width:\"20%\"}}\r\n                                   maxLength=\"4\"\r\n                                   value={camera.z} onChange={handleChange}/>\r\n                        </div>\r\n                        <div className=\"option\" style={styles}>\r\n                            Yaw:\r\n                            <input type=\"number\"\r\n                                   className=\"yaw-inp\"\r\n                                   min=\"-360\" max=\"360\"\r\n                                   style={{maxWidth:500, paddingLeft:10, minWidth:30, width:\"20%\"}}\r\n                                   maxLength=\"4\"\r\n                                   value={camera.yaw} onChange={handleChange}/>\r\n                        </div>\r\n                        <div className=\"option\" style={styles}>\r\n                            Pitch:\r\n                            <input type=\"number\"\r\n                                   className=\"pitch-inp\"\r\n                                   min=\"-360\" max=\"360\"\r\n                                   style={{maxWidth:500, paddingLeft:10, minWidth:30, width:\"20%\"}}\r\n                                   maxLength=\"4\"\r\n                                   value={camera.pitch} onChange={handleChange}/>\r\n                        </div>\r\n                        <div className=\"option\" style={styles}>\r\n                            Roll:\r\n                            <input type=\"number\"\r\n                                   className=\"roll-inp\"\r\n                                   min=\"-360\" max=\"360\"\r\n                                   style={{maxWidth:500, paddingLeft:10, minWidth:30, width:\"20%\"}}\r\n                                   maxLength=\"4\"\r\n                                   value={camera.roll} onChange={handleChange}/>\r\n                        </div>\r\n                    </div>\r\n                </Draggable>\r\n            </div>\r\n        </>\r\n    )\r\n}","import {useCallback} from \"react\";\r\n\r\nexport const ToolGroup = (props) => {\r\n\r\n    const handleChange = useCallback((e) => {\r\n        props.setTool(prev => e.target.value === prev ? \"default\" : e.target.value)\r\n    },[props])\r\n    return (\r\n        <div className='toolGroup'>\r\n            <input type='checkbox' id='moveToggle' className='toggle' value=\"move\"\r\n            checked={props.tool === 'move'} onChange={handleChange}/>\r\n            <label htmlFor='moveToggle' className='toggleLabel'>Move camera</label>\r\n        </div>\r\n    )\r\n}","import {ExportFile} from \"./ExportFile\";\r\nimport {ImportFile} from \"./ImportFile\";\r\nimport {ViewMenu} from \"./ViewMenu\";\r\nimport {EditMenu} from \"./EditMenu\";\r\nimport {SelectMenu} from \"./SelectMenu\";\r\nimport {Coords} from \"./Coords\";\r\nimport {Camera} from \"./Camera\";\r\nimport {useState, useEffect} from 'react'\r\nimport {ToolGroup} from \"./ToolGroup\";\r\n\r\nexport const Toolbar = () => {\r\n    const [tool, setTool] = useState('default');\r\n    const [zoom, setZoom] = useState(0);\r\n    const [dev, setDev] = useState(false)\r\n    useEffect(() =>{\r\n        let devStuff = document.getElementById(\"dev_stuff\")\r\n        let body = document.body\r\n        devStuff.style.display = dev ? \"block\" : \"none\";\r\n        body.style.overflow = dev ? \"visible\" : \"hidden\";\r\n    },[dev])\r\n    return(\r\n        <div id =\"toolbar\" className=\"toolbar\">\r\n            <div className=\"undo\">\r\n                <span className=\"description\" style={{fontSize:10, position:\"absolute\", top:\"100%\" ,left:5}}>Undo</span>\r\n                <button className=\"backbtn\" onClick={() => window.Module.ready.then(api => api.undo())}>&#8617;</button>\r\n            </div>\r\n            <div className=\"redo\">\r\n                <span className=\"description\" style={{fontSize:10, position:\"absolute\", top:\"100%\" ,left:50}}>Redo</span>\r\n                <button className=\"backbtn\" onClick={() => window.Module.ready.then(api => api.redo())}>&#8618;</button>\r\n            </div>\r\n            <button id=\"devToggle\" className=\"tool\" onClick={() => setDev(!dev)}>Dev Stuff</button>\r\n            <ImportFile/>\r\n            <ExportFile/>\r\n            <ViewMenu zoom={zoom} setZoom={setZoom}/>\r\n            <EditMenu/>\r\n            <SelectMenu tool={tool} setTool={setTool}/>\r\n            <button className=\"tool\" onClick={() => window.Module.ready.then(api => api.flip_axis())}>Flip Axis</button>\r\n            <Camera tool={tool} zoom={zoom}/>\r\n            <ToolGroup tool={tool} setTool={setTool}/>\r\n            <Coords/>\r\n        </div>\r\n    )\r\n}\r\n\r\n","/* eslint-disable */\r\n\r\nexport const NavBar = () => {\r\n    return(\r\n        <div id=\"navbar\" className=\"navbar\">\r\n            <p id=\"title\"> OrthoFreeD </p>\r\n            <ul id=\"help\">\r\n                <li><a className=\"help\" target=\"_blank\" href={process.env.PUBLIC_URL + \"help.html\"}>Help</a></li>\r\n            </ul>\r\n        </div>\r\n    )\r\n}","import React, {useEffect} from 'react';\r\nimport {Toolbar} from \"./components/Toolbar\";\r\nimport {NavBar} from \"./components/NavBar\";\r\nimport './App.css';\r\n\r\nfunction App() {\r\n    useEffect(() => {\r\n        document.getElementById(\"root\").onwheel = function(e){\r\n            e.preventDefault()\r\n        }\r\n        let canvas = document.getElementById(\"canvas\")\r\n        window.onresize = function(e){\r\n            let w = canvas.clientWidth;\r\n            let h = canvas.clientHeight;\r\n            if(w !== canvas.width || h !== canvas.height){\r\n                canvas.width = w;\r\n                canvas.height = h;\r\n            }\r\n            window.Module.ready.then(api => api.set_size(w,h))\r\n        }\r\n        canvas.onmousemove = function(e){\r\n            let curX = e.pageX - canvas.offsetLeft;\r\n            let curY = e.pageY - canvas.offsetTop;\r\n            document.getElementById('xcoord').innerHTML = curX;\r\n            document.getElementById('ycoord').innerHTML = curY;\r\n        }\r\n    },[])\r\n\r\n    return (\r\n        <>\r\n            <NavBar/>\r\n            <Toolbar/>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <App />\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\nReactDOM.render(<App/>, document.getElementById(\"root\"));\r\n\r\n// Event handler for mouse coordinates\r\nlet canvasElement = document.getElementById('canvas');\r\ncanvasElement.onmousemove = function(e) {\r\n    let x = e.pageX - this.offsetLeft;\r\n    let y = e.pageY - this.offsetTop;\r\n    document.getElementById('xcoord').innerHTML = x;\r\n    document.getElementById('ycoord').innerHTML = y;\r\n};"],"sourceRoot":""}